locals {
  ingress_generated_cert = {
    names = ["Submitter", "Monitoring"]
    permissions = tomap({
      "Submitter" = [
        "Submitter:GetServiceConfiguration",
        "Submitter:CancelSession",
        "Submitter:CancelTasks",
        "Submitter:CreateSession",
        "Submitter:CreateSmallTasks",
        "Submitter:CreateLargeTasks",
        "Submitter:CountTasks",
        "Submitter:TryGetResultStream",
        "Submitter:WaitForCompletion",
        "Submitter:TryGetTaskOutput",
        "Submitter:WaitForAvailability",
        "Submitter:GetTaskStatus",
        "Submitter:GetResultStatus",
        "Submitter:ListTasks",
        "Submitter:ListSessions",
        "Sessions:CancelSession",
        "Sessions:GetSession",
        "Sessions:ListSessions",
        "Sessions:CreateSession",
        "Sessions:PauseSession",
        "Sessions:CloseSession",
        "Sessions:PurgeSession",
        "Sessions:DeleteSession",
        "Sessions:ResumeSession",
        "Sessions:StopSubmission",
        "Tasks:GetTask",
        "Tasks:ListTasks",
        "Tasks:GetResultIds",
        "Tasks:CancelTasks",
        "Tasks:CountTasksByStatus",
        "Tasks:ListTasksDetailed",
        "Tasks:SubmitTasks",
        "Results:GetOwnerTaskId",
        "Results:ListResults",
        "Results:CreateResultsMetaData",
        "Results:CreateResults",
        "Results:DeleteResultsData",
        "Results:DownloadResultData",
        "Results:GetServiceConfiguration",
        "Results:UploadResultData",
        "Results:GetResult",
        "Results:ImportResultsData",
        "Applications:ListApplications",
        "Events:GetEvents",
        "General:Impersonate",
        "Partitions:GetPartition",
        "Partitions:ListPartitions",
        "Versions:ListVersions"
      ]
      "Monitoring" = [
        "Submitter:GetServiceConfiguration",
        "Submitter:CountTasks",
        "Submitter:GetTaskStatus",
        "Submitter:GetResultStatus",
        "Submitter:ListTasks",
        "Submitter:ListSessions",
        "Sessions:GetSession",
        "Sessions:ListSessions",
        "Tasks:GetTask",
        "Tasks:ListTasks",
        "Tasks:GetResultIds",
        "Tasks:CountTasksByStatus",
        "Tasks:ListTasksDetailed",
        "Results:GetOwnerTaskId",
        "Results:ListResults",
        "Results:GetServiceConfiguration",
        "Results:GetResult",
        "Applications:ListApplications",
        "Events:GetEvents",
        "Partitions:GetPartition",
        "Partitions:ListPartitions",
        "Versions:ListVersions"
      ]
    })
  }
}
