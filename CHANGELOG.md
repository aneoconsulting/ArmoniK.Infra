# Changelog

All notable changes to this project will be documented in this file.

## [main](https://github.com/aneoconsulting/ArmoniK.Infra/tree/main) (2023-08-11)

## [0.2.0](https://github.com/aneoconsulting/ArmoniK.Infra/releases/tag/0.2.0) (2023-09-13)

Changed
-

* Fix Google VPC to use one GCP subnetwork for GKE.
* Fix Google Artifact Registry module to use map(list(object{image=string, tag=string})) type.
* Fix ArmoniK module to use Kubernetes service accounts for control-plane and compute-plane.
* Fix Fluent-bit to use `HostPath` volumes with read-only access to `/var/log` for debugging.
* Set `useHostNetwork` in Fluent-bit to `false`.

Added
-

* Module of Google Memorystore for Redis.
* Module of Google Memorystore for Memcached Instance.
* Module of Google Cloud Storage (GCS).
* Module of Google Cloud Key Management Service (KMS).
* Module of Google Kubernetes Engine (GKE).
* Module to create Kubernetes service account with GCP IAM permissions (Workload Identity).
* Module of node pools for GKE in Standard mode.
* Module of Google Private Service Access (PSA).
* Add `jobs_in_database_extra_conf` variable in ArmoniK module to manage environment variables for jobs which need access to
  state database.

## [0.1.0](https://github.com/aneoconsulting/ArmoniK.Infra/releases/tag/0.1.0) (2023-08-11)

Changed
-

* From version `10.x` of Grafana, set the parameter `serve_from_sub_path` to `false`.
* Parameterize the hard coded validity period of the autogenerated certificates of MongoDB, Redis and ActiveMQ.
* Add static file to Ingress.

Added
-

* Module of AWS VPC endpoints.
* Module of GCP VPC.
* Module of GCP Artifact Registry.
* Module `service-ip` to retrieve the domain, IP, and ports of a Kubernetes service.

Breaking changes
-

* Refactor module of AWS VPC.
* Refactor module of AWS ECR.

## [0.0.2](https://github.com/aneoconsulting/ArmoniK.Infra/releases/tag/0.0.2) (2023-05-11)

Changed
-

* Rename and reorganize folders of Terraform modules.

## [0.0.1](https://github.com/aneoconsulting/ArmoniK.Infra/releases/tag/0.0.1) (2023-05-11)

Changed
-

* First release: Terraform modules moved from GitHub repository [ArmoniK](https://github.com/aneoconsulting/ArmoniK).
